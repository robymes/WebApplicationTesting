this.mytodo=function(t){var o,e="EVENT_NEW_TODO_ITEM_INSERTED",n="EVENT_ERROR";return o=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},t.EventBus=function(){var t,i;t=this,i=postal.channel(o()),t.postNewTodoItemInserted=function(t){i.publish(e,t)},t.onNewTodoItemInserted=function(t){i.subscribe(e,t)},t.postError=function(t){i.publish(n,t)},t.onError=function(t){i.subscribe(n,t)}},t}(this.mytodo||{}),this.mytodo=function(t){var o=function(t,o,e){e()};return t.MyTodoService=function(){var t=this;t.getTodoList=function(t){t([{title:"a passed item",description:"due date is passed",dueDate:new Date(2014,4,15)},{title:"an item",description:"something to do",dueDate:new Date(2014,5,15)},{title:"another item",description:"something to say",dueDate:new Date(2014,5,16)}])},t.insertTodoItem=function(t,e,n){o("SERVICE_URL",t,e,n)}},t}(this.mytodo||{}),this.mytodo=function(t){return t.MyTodoView=function(){var o,e,n,i,r;o=this,i=new t.EventBus,r=new t.MyTodoService,n=new t.TodoListView(i,r),e=new t.NewTodoItemView(i,r),i.onError(function(t){alert(t)}),o.init=function(){n.init(),e.init()}},t}(this.mytodo||{}),this.mytodo=function(t){return t.NewTodoItemView=function(o,e){var n,i;n=this,i=new t.NewTodoItemViewModel(o,e),n.init=function(){jQuery("#todoItemDueDate").datepicker({changeMonth:!0,changeYear:!0,minDate:1}),ko.applyBindings(i,document.getElementById("newItemView"))}},t}(this.mytodo||{}),this.mytodo=function(t){return t.NewTodoItemViewModel=function(t,o){var e;e=this,e.title=ko.observable(""),e.description=ko.observable(""),e.dueDate=ko.observable(""),e.canInsertNewTicket=ko.computed(function(){return e.title()&&e.description()&&e.dueDate()}),e.insertNewTodoItem=function(){var n,i,r;r={title:e.title(),description:e.description(),dueDate:new Date(e.dueDate())},n=function(){t.postNewTodoItemInserted(r),e.title(""),e.description(""),e.dueDate("")},i=function(){t.postError("Error inserting new Todo item")},o.insertTodoItem(r,n,i)}},t}(this.mytodo||{}),this.mytodo=function(t){return t.ToDoItem=function(t){var o;o=this,o.title=ko.observable(t.title),o.description=ko.observable(t.description),o.dueDate=ko.observable(t.dueDate),o.done=ko.observable(!1),o.formattedDueDate=ko.computed(function(){return o.dueDate().toLocaleDateString()}),o.isLate=ko.computed(function(){return o.dueDate()<new Date&&!o.done()})},t}(this.mytodo||{}),this.mytodo=function(t){return t.TodoListView=function(o,e){var n,i;n=this,i=new t.TodoListViewModel(o,e),n.init=function(){ko.applyBindings(i,document.getElementById("todoListView")),i.loadTodoList()}},t}(this.mytodo||{}),this.mytodo=function(t){return t.TodoListViewModel=function(o,e){var n;n=this,o.onNewTodoItemInserted(function(o){n.todoItems.push(new t.ToDoItem(o))}),n.todoItems=ko.observableArray([]),n.loadTodoList=function(){var i,r;i=function(o){var e;for(n.todoItems.removeAll(),e=0;e<o.length;e+=1)n.todoItems.push(new t.ToDoItem(o[e]))},r=function(){o.postError("Error loading Todo list")},e.getTodoList(i,r)}},t}(this.mytodo||{});